<!--
 * @Author: Astray
 * @Date: 2023-09-13 14:45:27
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      * {
        margin: 0;
        padding: 0;
      }
      .a {
        position: absolute;
        width: 100px;
        height: 100px;
        background-color: #abcdef;
      }
    </style>
  </head>
  <body>
    <div class="a" draggable="true"></div>
    <!-- 
      拖拽的生命周期
      1. 拖拽开始
      2. 拖拽进行中
      3. 拖拽结束
      拖拽的组成：
      1. 被拖拽的物体
      2. 目标区域
     -->
    <script>
      var oDragDiv = document.querySelector(".a");
      var beginX = 0;
      var beginY = 0;
      oDragDiv.ondragstart = function (e) {
        beginX = e.clientX;
        beginY = e.clientY;
      };
      // oDragDiv.ondrag = function (e) {
      //   console.log(e, "拖拽中");
      // };
      oDragDiv.ondragend = function (e) {
        var x = e.clientX - beginX;
        var y = e.clientY - beginY;
        oDragDiv.style.left = oDragDiv.offsetLeft + x + "px";
        oDragDiv.style.top = oDragDiv.offsetTop + y + "px";
      };
    </script>
  </body>
</html>
